<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

    <link rel="stylesheet" href="./static/css/styles.css">

    <!-- JavaScript Bundle with Popper -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous">
        </script>

    <script src="./static/js/router.js" defer></script>
    <script src="./static/js/app.js" defer></script>

</head>

<body>
    <header>
        <!-- Navbar -->
        <nav class="navbar navbar-expand-md navbar-dark bg-dark">
            <div class="container-fluid">
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false"
                    aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                    <a class="navbar-brand">Image Store</a>
                </button>
                <div class="collapse navbar-collapse" id="navbarNavDropdown">
                    <ul class="navbar-nav me-auto mb-2 mb-md-0">
                        <li class="nav-item active">
                            <a class="nav-link btn-primary text-light" href="#">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn-primary text-light" href="#/about">About</a>
                        </li>
                        <li class="nav-item mx-1">
                            <a id="restricted-anchor" class="nav-link disabled" href="#/admin">Admin</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div id="card-logout">
                <div class="container-fluid text-light">
                    <div class="row row-cols-2">
                        <div class="col-9 d-flex justify-content-center align-items-center">
                            <b>Welcome</b>&nbsp;<span id="login-username"></span>
                        </div>
                        <div class="col-3 p-0">
                            <a class="btn btn-sm btn-primary" href="#/logout" style="float:right">Logout</a>
                        </div>
                    </div>
                </div>
            </div>
            <div id="card-login">
                <form id="form-login" class="form-inline">
                    <div class="container-fluid p-0">
                        <div class="row row-cols-3">
                            <div class="col-auto p-0">
                                <input id="username" class="form-control-sm login-style" type="text"
                                    placeholder="Username" aria-label="Username" required minlength="3">
                            </div>
                            <div class="col-auto p-0">
                                <input id="password" class="form-control-sm login-style" type="password"
                                    placeholder="Password" aria-label="Password" required minlength="3">
                            </div>
                            <div class="col-auto ps-1 d-flex justify-content-center align-items-center">
                                <button class="btn btn-sm btn-primary" type="submit">Login</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </nav>
        <!-- Navbar -->
    </header>

    <div class="container min-vh-84 mb-4">

        <div id="view" class="container"></div>

        <!-- Templates -->
        <template id="template-upload">
            <h2 class="text-center">Admin</h2>

            <div class="col card rounded m-2 p-2">
                <div class="card-body">
                    <h5 class="card-title">Upload Image(s)
                    </h5>
                    <form id="meta" class="form">
                        <div class="row">
                            <label for="user" class="col-2">User</label>
                            <input id="user" class="col" name="user" type="text" placeholder="Username" minlength="3"
                                maxlength="255" readonly>
                            <!-- <input id="user" class="col" name="user" type="text" placeholder="Enter username"
                                minlength="3" maxlength="255" required> -->
                        </div>
                        <div class="row">
                            <label for="title" class="col-2">Title</label>
                            <input id="title" class="col" name="title" type="text" placeholder="Enter title"
                                minlength="5" maxlength="255" required>
                        </div>
                        <div class="row">
                            <label for="description" class="col-2">Description</label>
                            <textarea id="description" class="col" name="description" type="text"
                                placeholder="Enter description" minlength="3" maxlength="255" rows="5"
                                required></textarea>
                        </div>
                        <div class="row">
                            <label for="image" class="col-2">Image(s)</label>
                            <input id="image" class="btn btn-primary col" name="image" type="file"
                                accept="image/png, image/jpeg" multiple required>
                        </div>
                        <div class="row float-end m-2">
                            <div class="col"></div>
                            <div class="col">
                                <button type="reset" id="reset" class="btn btn-primary">Reset</button>
                            </div>
                            <div class="col">
                                <button type="submit" id="submit" class="btn btn-primary">Send</button>
                            </div>
                        </div>
                    </form>
                </div>

            </div>
            <div id="gallery"></div>

            <script>
                /**
                * Event Hooks.
                */
                document.getElementById('image').addEventListener("change", (event) => {
                    imageUploader.setFiles(event.target.files)
                });

                document.forms["meta"].addEventListener('submit', (event) => {
                    event.preventDefault()
                    imageUploader.upload();
                })

                window.addEventListener('load', (event) => {
                    imageUploader.updateGallery()
                })
            </script>

        </template>

        <template id="template-home">
            <h2 class="text-center">Home</h2>
            <div class="">
                <div id="gallery"></div>
            </div>
        </template>

        <template id="template-image">
            <div class="card row">
                <table>
                    <td class="col-4 text-center imageModalBtn">
                        <!-- <img class="mx-2" style="max-width: 150px;" src="" class="image"> -->
                    </td>
                    <td class="col meta text-break"></td>
                    <td class="col-1 deleteBtn">
                        <!-- <button class="btn btn-danger" id="btnDel">Delete</button> -->
                    </td>
                    <td id="td-img"></td>
                </table>
            </div>
            <div class="image-modal"></div>
        </template>

        <template id="template-about">
            <h2 class="text-center">About</h2>
            <div class="">
                <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed metus eros, fringilla ac sem sed,
                    condimentum viverra odio. Quisque dapibus faucibus tortor ac interdum. Etiam laoreet suscipit
                    dictum.
                    Nam commodo ipsum quam, vitae placerat nisi ultrices a. Proin cursus sollicitudin pretium. Morbi
                    egestas
                    justo lectus, at tristique purus ullamcorper ac. Vestibulum pulvinar lacinia leo, at consequat ante.
                    In
                    interdum porta purus. Praesent eget neque porttitor, egestas leo et, dictum neque. Nam tincidunt
                    feugiat
                    tortor, a dignissim enim fringilla ac. Quisque non ante urna. Duis et cursus eros. Morbi finibus
                    iaculis
                    semper. Cras sed mauris semper, pellentesque metus at, varius massa.
                </p>
            </div>
        </template>
    </div>

    <!-- Footer-->
    <footer class="text-center text-lg-start bg-dark text-muted">
        <!-- Copyright -->
        <div class="p-4">
            Â© 2022 Copyright:
            <a class="text-reset fw-bold" href="https://BigXPBowl.tk">BigXPBowl.tk</a>
        </div>
    </footer>
</body>

</html>